This file is a merged representation of the entire codebase, combined into a single document by Repomix.

<file_summary>
This section contains a summary of this file.

<purpose>
This file contains a packed representation of the entire repository's contents.
It is designed to be easily consumable by AI systems for analysis, code review,
or other automated processes.
</purpose>

<file_format>
The content is organized as follows:
1. This summary section
2. Repository information
3. Directory structure
4. Repository files (if enabled)
5. Multiple file entries, each consisting of:
  - File path as an attribute
  - Full contents of the file
</file_format>

<usage_guidelines>
- This file should be treated as read-only. Any changes should be made to the
  original repository files, not this packed version.
- When processing this file, use the file path to distinguish
  between different files in the repository.
- Be aware that this file may contain sensitive information. Handle it with
  the same level of security as you would the original repository.
</usage_guidelines>

<notes>
- Some files may have been excluded based on .gitignore rules and Repomix's configuration
- Binary files are not included in this packed representation. Please refer to the Repository Structure section for a complete list of file paths, including binary files
- Files matching patterns in .gitignore are excluded
- Files matching default ignore patterns are excluded
- Files are sorted by Git change count (files with more changes are at the bottom)
</notes>

</file_summary>

<directory_structure>
drive.xacro
gazebo.xacro
parts.xacro
simplebot_description.urdf.xacro
wheel.xacro
</directory_structure>

<files>
This section contains the contents of the repository's files.

<file path="drive.xacro">
<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
  <xacro:include filename="$(find simplebot_description)/urdf/wheel.xacro"/>

  <xacro:macro name="drive_wheel" params="side position x y z">
    <xacro:wheel name="wheel_${position}_${side}" color="0.1 0.1 0.1 1"/>
    
    <joint name="joint_${position}_${side}" type="continuous">
      <parent link="base_link"/>
      <child link="wheel_${position}_${side}"/>
      <origin xyz="${x} ${y} ${z}" rpy="0 0 0"/>
      <axis xyz="0 1 0"/>
      <limit effort="5.0" velocity="20.0"/>
    </joint>
  </xacro:macro>
</robot>
</file>

<file path="gazebo.xacro">
<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
  <gazebo>
    <plugin filename="gz-sim-diff-drive-system" name="gz::sim::systems::DiffDrive">
      <left_joint>joint_front_left</left_joint>
      <left_joint>joint_rear_left</left_joint>

      <right_joint>joint_front_right</right_joint>
      <right_joint>joint_rear_right</right_joint>

      <wheel_separation>0.206</wheel_separation>
      <wheelbase>0.13</wheelbase>
      <wheel_radius>0.03</wheel_radius>

      <topic>/cmd_vel</topic>
      <odom_topic>/odom</odom_topic>
      <frame_id>odom</frame_id>
      <child_frame_id>chassis_plate</child_frame_id>

      <min_acceleration>-10</min_acceleration>
      <max_acceleration>10</max_acceleration>
      <min_velocity>-10</min_velocity>
      <max_velocity>10</max_velocity>
    </plugin>

    <plugin filename="gz-sim-joint-state-publisher-system" name="gz::sim::systems::JointStatePublisher">
      <topic>/encoder_data_gz</topic> 
      <joint_name>joint_front_left</joint_name>
      <joint_name>joint_front_right</joint_name>
      <joint_name>joint_rear_left</joint_name>
      <joint_name>joint_rear_right</joint_name>
    </plugin>
  </gazebo>
</robot>
</file>

<file path="parts.xacro">
<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">

  <xacro:macro name="visual_part" params="name mesh_file xyz rpy color">
    <visual name="${name}">
      <origin xyz="${xyz}" rpy="${rpy}"/>
      <geometry>
        <mesh filename="file://$(find simplebot_description)/meshes/simplebot/${mesh_file}.stl"/>
      </geometry>
      <material name="${name}_material">
        <color rgba="${color}"/>
      </material>
    </visual>
  </xacro:macro>

  <xacro:macro name="base_link_visuals">
    <xacro:visual_part name="chassis_plate" mesh_file="base_link" xyz="-0.085 0 -0.005" rpy="0 0 -1.5708" color="0.9 0.9 0.9 1"/>
    
    <xacro:visual_part name="frame1" mesh_file="frame1" xyz="-0.085 0 -0.005" rpy="0 0 -1.5708" color="0.6 0.8 0.9 1"/>
    <xacro:visual_part name="frame2" mesh_file="frame2" xyz="-0.085 0 -0.005" rpy="0 0 -1.5708" color="0.6 0.8 0.9 1"/>
    <xacro:visual_part name="frame3" mesh_file="frame3" xyz="-0.085 0 -0.005" rpy="0 0 -1.5708" color="0.6 0.8 0.9 1"/>
    <xacro:visual_part name="frame4" mesh_file="frame4" xyz="-0.085 0 -0.005" rpy="0 0 -1.5708" color="0.6 0.8 0.9 1"/>

    <xacro:visual_part name="motor_front_right" mesh_file="motor_front_right"  xyz="0.0475 0 0.1625" rpy="-1.5708 -0 -1.5708" color="0.6 0.6 0.6 1"/>
    <xacro:visual_part name="motor_front_left" mesh_file="motor_front_left"  xyz="0.0825 -6.93889e-18 -0.1375" rpy="1.5708 -0 -1.5708" color="0.6 0.6 0.6 1"/>
    <xacro:visual_part name="motor_rear_left" mesh_file="motor_rear_left"  xyz="-0.0825 1.38778e-17 0.0325" rpy="-1.5708 -0 -1.5708" color="0.6 0.6 0.6 1"/>
    <xacro:visual_part name="motor_rear_right" mesh_file="motor_rear_right"  xyz="-0.0475 1.04083e-17 -0.0075" rpy="1.5708 -0 -1.5708" color="0.6 0.6 0.6 1"/>

    <xacro:visual_part name="bracket_fr" mesh_file="motor_bracket_front_right" xyz="-0.085 0 -0.005" rpy="0 0 -1.5708" color="0.6 0.6 0.6 1"/>
    <xacro:visual_part name="bracket_fl" mesh_file="motor_bracket_front_left"  xyz="-0.085 0 -0.005" rpy="0 0 -1.5708" color="0.6 0.6 0.6 1"/>
    <xacro:visual_part name="bracket_rl" mesh_file="motor_bracket_rear_left"  xyz="-0.085 1.04083e-17 -0.005" rpy="0 -0 -1.5708" color="0.6 0.6 0.6 1"/>
    <xacro:visual_part name="bracket_rr" mesh_file="motor_bracket_rear_right"  xyz="-0.085 0 -0.005" rpy="0 0 -1.5708" color="0.6 0.6 0.6 1"/>
    
    <xacro:visual_part name="side_bracket_left" mesh_file="side_bracket_left"  xyz="-0.085 1.04083e-17 -0.005" rpy="0 -0 -1.5708" color="0.6 0.6 0.6 1"/>
    <xacro:visual_part name="side_bracket_right" mesh_file="side_bracket_right"  xyz="-0.085 1.04083e-17 -0.005" rpy="0 -0 -1.5708" color="0.6 0.6 0.6 1"/>

    <xacro:visual_part name="roarm_bracket" mesh_file="roarm_bracket"  xyz="-0.085 1.04083e-17 -0.00744" rpy="0 -0 -1.5708" color="0.6 0.6 0.6 1"/>

    <xacro:visual_part name="a010_bracket" mesh_file="a010_bracket"  xyz="-0.085 2.42861e-17 -0.005" rpy="0 -0 -1.5708" color="0.6 0.6 0.6 1"/>

    <xacro:visual_part name="top_bracket" mesh_file="top_bracket"  xyz="-0.085 2.42861e-17 -0.005" rpy="0 -0 -1.5708" color="0.6 0.6 0.6 1"/>


    <xacro:visual_part name="lidar" mesh_file="rplidar_c1" xyz="0.111 0 -0.005" rpy="0 0 1.5708" color="0.2 0.2 0.2 1"/>
  </xacro:macro>

</robot>
</file>

<file path="simplebot_description.urdf.xacro">
<?xml version="1.0" ?>
<robot name="simplebot2" xmlns:xacro="http://www.ros.org/wiki/xacro">
  
  <xacro:include filename="$(find simplebot_description)/urdf/parts.xacro"/>
  <xacro:include filename="$(find simplebot_description)/urdf/drive.xacro"/>
  <xacro:include filename="$(find simplebot_description)/urdf/gazebo.xacro"/>

  <link name="base_footprint"/>
  <joint name="base_footprint_joint" type="fixed">
    <parent link="base_footprint"/>
    <child link="base_link"/>
    <origin xyz="0 0 0" rpy="0 0 0"/>
  </joint>

  <link name="base_link">
    <inertial>
      <origin xyz="-3.23026e-10 4.0693e-18 0.0211091" rpy="0 0 0"/>
      <mass value="0.426296"/>
      <inertia ixx="0.00184221" ixy="9.36048e-11" ixz="-1.22606e-12" iyy="0.00190478" iyz="2.8119e-08" izz="0.00332037"/>
    </inertial>

    <xacro:base_link_visuals />

    <collision>
      <origin xyz="-0.085 0 -0.005" rpy="0 0 0"/>
      <geometry><box size="0.25 0.16 0.02"/></geometry>
    </collision>
  </link>

  <xacro:drive_wheel side="left"  position="front" x="0.065"  y="0.103008"  z="0.010"/>
  <xacro:drive_wheel side="right" position="front" x="0.065"  y="-0.103008" z="0.010"/>
  <xacro:drive_wheel side="left"  position="rear"  x="-0.065" y="0.103008"  z="0.010"/>
  <xacro:drive_wheel side="right" position="rear"  x="-0.065" y="-0.103008" z="0.010"/>

</robot>
</file>

<file path="wheel.xacro">
<?xml version="1.0"?>
<robot xmlns:xacro="http://www.ros.org/wiki/xacro">
  <xacro:macro name="wheel" params="name color">
    <link name="${name}">
      <inertial>
        <mass value="0.08"/>
        <origin xyz="0 0 0"/>
        <inertia ixx="0.000045" iyy="0.000045" izz="0.00009" ixy="0" ixz="0" iyz="0"/>
      </inertial>
      <visual>
        <origin xyz="0 0 0" rpy="-1.5708 0 0"/>
        <geometry>
          <cylinder radius="0.03" length="0.015"/>
        </geometry>
        <material name="${name}_material">
          <color rgba="${color}"/>
        </material>
      </visual>
      <collision>
        <origin xyz="0 0 0" rpy="-1.5708 0 0"/>
        <geometry>
          <cylinder radius="0.03" length="0.015"/>
        </geometry>
      </collision>
    </link>
    <gazebo reference="${name}">
  <surface>
    <friction>
      <ode>
        <mu>1.0</mu>
        <mu2>1.0</mu2>
      </ode>
    </friction>
  </surface>
</gazebo>
  </xacro:macro>
</robot>
</file>

</files>
